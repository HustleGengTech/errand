{% include 'base.html' %}
{% load static %}

{% block content %}
<div class="bg-gray-900 text-white min-h-screen p-6">
    {% include 'partials/message.html' %}
    <!-- Dashboard Header -->
    {% include 'partials/dashtemp.html' %}
  
    <!-- Toggle Buttons -->
    <div class="flex justify-center space-x-4 mb-2">
      <button class="px-4 py-2 bg-blue-600 rounded-lg" >Posts</button>
      {% if user != request.user %}
      <a href="{% url 'review_page' username=reviewed_user.username %}" class="px-4 py-2 bg-gray-600 rounded-lg">Write Reviews</a>
      {% else %}
          <a href="{% url 'review_page' user.username %}" class="px-4 py-2 bg-gray-600 rounded-lg">Check Your Reviews</a>
      {% endif %}
    </div>
  
    <div id="posts" class="post-card bg-gray-800 shadow-lg rounded-lg overflow-hidden grid grid-cols-2 gap-2 sm:grid-cols-3  p-4">
        {% for post in posts %}
          <div class="relative group">
            {% if post.image %}
              <img src="{{ post.image.url }}"
                   alt="Post Image"
                   class="aspect-square w-full h-70 sm:h-72 object-cover rounded-lg" />
            {% endif %}
      
            <!-- Hover Overlay -->
            <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 peer-checked:opacity-100 group-hover:opacity-100 transition p-2 flex flex-col justify-between rounded-lg">>
              <p class="text-white text-sm truncate">{{ post.description }}</p>
              <div class="flex justify-between text-white mt-2">
                <div class="flex space-x-2">
                  <i class="ph ph-heart">❤{{ post.likes.count }}</i>
                 <a href="{% url 'single_post' post.id %}"><i class="ph ph-chat">💬{{ post.comments.count }}</i></a> 
                </div>
                <div class="flex space-x-2">
                {% if request.user == post.user %}
                 <a href="{% url 'delete_post' post.id %}"><i class="ph ph-pencil">🖍</i></a> 
                 <a href="{% url 'edit_post' post.id %}"><i class="ph ph-trash">🗑</i></a> 
                 {% endif %}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
      
      
</div>
{% endblock %}